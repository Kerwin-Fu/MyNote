
<a name="B09Mv"></a>
# 第一天

<a name="SnX90"></a>
## 登录需求

[点击查看【processon】](https://www.processon.com/view/link/626bd4296376891e1c1b217e)

- 视图组件和复用组件的区分
- 封装请求类方法，aixos实例和接口方法分开封装。
- 注意token的操作以及保存。
- 将token需求的操作统一放在axios请求拦截器中。
- axios的响应拦截器中的操作，**判断200系的错误响应**，应该处理。
- 接收的**冗长的对象**可以在响应到的一刻进行解构，取出需要的部分
- 注意**跨域代理问题**。判断target和pathRewrite应如何使用（根据后台是否做相应的处理）
- 多处使用的数据可以放在store中，同理多处使用的方法也应放入store中执行（页面中相应的地方只做触发器）


<a name="f2h0D"></a>
# 第二天

<a name="RDQ4X"></a>
## 登录退出及路由的优化

![image-20220430180910307](C:\Users\Kerwin\AppData\Roaming\Typora\typora-user-images\image-20220430180910307.png)

在路由前置守卫中对路由的跳转进行截取判定: <br />除开登陆页面及白名单里的页面，所有的页面都需要在头部带上token才运行访问。<br />如果没有token，则不允许访问需要token的页面，强制为用户跳转至登录页。

在拥有token时不允许进入登录页。如果要到登录页，因走正常退出流程，在流程中删除已储存的token和用户信息。在拥有token时强制转跳用户前往登录页的所有行为。

使用Nprogress插件为页面的跳转添加加载动画。<br />路由发生改变时动画开始加载。路由跳转完成后动画结束，所以在路由前置守卫中开始动画，在后置守卫中结束动画。同时，所有指定地址的跳转，都应该额外再加一个结束动画的方法。
<a name="Bp1Lu"></a>
## 主页侧边栏与顶部栏的调整

侧边栏与顶部栏的数据从后台获取的信息中渲染。侧边栏的菜单基于当前用户的角色权限而动态生成。所有用户的个人信息字符都可以使用getters快捷访问来便捷渲染。


<a name="dhvk2"></a>
## 个人信息的获取
![image-20220430180921996](C:\Users\Kerwin\AppData\Roaming\Typora\typora-user-images\image-20220430180921996.png)

在路由发生变化且拥有token时，获取用户信息并存储在vuex中。所有的相关操作都在路由前置守卫中进行
